{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\n\nconst formData = {\n    email: \"\",\n    message: \"\"\n}\n\nform.addEventListener(\"input\", () => {\n    const dataForm = new FormData(form);\n    const email = dataForm.get(\"email\");\n    const message = dataForm.get(\"message\");\n    \n    formData.email = email;\n    formData.message = message;\n    saveToLocalStorage(\"feedback-form-state\", formData)\n})\n\nfunction saveToLocalStorage(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction getFromLocalStorage(key) {\n    const json = localStorage.getItem(key);\n    try {\n        const data = JSON.parse(json);\n        return data;\n    }\n        catch {\n            return json;\n    }\n}\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const data = getFromLocalStorage('feedback-form-state');\n\n    form.elements.email.value = data?.email || \"\";\n    form.elements.message.value = data?.message || \"\";\n})\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  if (formData.email === \"\" || formData.message === \"\") {\n    alert('Fill please all fields');\n    return;\n  }\n\n  localStorage.removeItem(\"feedback-form-state\"); \n  formData.email = '';\n  formData.message = '';\n  form.reset();\n}); "],"names":["form","formData","dataForm","email","message","saveToLocalStorage","key","value","jsonData","getFromLocalStorage","json","data","event"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EAEAD,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAME,EAAW,IAAI,SAASF,CAAI,EAC5BG,EAAQD,EAAS,IAAI,OAAO,EAC5BE,EAAUF,EAAS,IAAI,SAAS,EAEtCD,EAAS,MAAQE,EACjBF,EAAS,QAAUG,EACnBC,EAAmB,sBAAuBJ,CAAQ,CACtD,CAAC,EAED,SAASI,EAAmBC,EAAKC,EAAO,CACpC,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,EAAoBH,EAAK,CAC9B,MAAMI,EAAO,aAAa,QAAQJ,CAAG,EACrC,GAAI,CAEA,OADa,KAAK,MAAMI,CAAI,CAE/B,MACS,CACF,OAAOA,CACd,CACL,CAEA,OAAO,iBAAiB,mBAAoB,IAAM,CAC9C,MAAMC,EAAOF,EAAoB,qBAAqB,EAEtDT,EAAK,SAAS,MAAM,OAAQW,GAAA,YAAAA,EAAM,QAAS,GAC3CX,EAAK,SAAS,QAAQ,OAAQW,GAAA,YAAAA,EAAM,UAAW,EACnD,CAAC,EAEDX,EAAK,iBAAiB,SAAWY,GAAU,CAEzC,GADAA,EAAM,eAAc,EAChBX,EAAS,QAAU,IAAMA,EAAS,UAAY,GAAI,CACpD,MAAM,wBAAwB,EAC9B,MACD,CAED,aAAa,WAAW,qBAAqB,EAC7CA,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBD,EAAK,MAAK,CACZ,CAAC"}